# 前端性能优化
## 从用户输入浏览器url到页面呈现都有哪些过程？有什么办法能优化页面性能
1. 用户输入URL地址
2. 浏览器解析URL解析出主机名
3. 浏览器查将主机名转换为服务器IP地址（浏览器先查找本地DNS缓存列表，没有的话 再向浏览器默认的DNS服务器发送查询请求 同时缓存）
4. 浏览器将端口号从URL中解析出来
5. 浏览器建立一条与目标WEB服务器的TCP连接（三次握手）
6. 浏览器向服务器发送一条HTTP请求报文
7. 浏览器向服务器返回一条HTTP响应报文
8. 关闭连接 浏览器解析文档
9. 如果文档中有资源 重复6 7动作，直到资源全部加载完毕
![browser](/browser.png)
## 浏览器的重排和重绘
### 重排：
1. 定义：DOM结构中的各个元素都有自己的盒子，这些都需要浏览器根据各种样式来计算并根据计算结果将元素放到它该出现的位置，这个过程称之为reflow（回流）
2. 触发Reflow
    - 当你添加、删除、修改DOM节点时，会导致Reflow或Repaint
    - 当你移动DOM的位置，或是搞个动画的时候。
    - 当你修改CSS样式的时候，或者移动元素的时候。
    - 当你Resize窗口的时候（移动端没有这个问题），或是滚动的时候。
    - 当你修改网页的默认字体时。
### 重绘：
1. 定义：当各种盒子的位置、大小以及其他属性，例如颜色、字体大小等都确定下来后，浏览器于是便把这些元素都按照各自的特性绘制了一遍，于是页面的内容就出现了，这个过程称之为Repaint（重绘）
2. 触发Repaint
    - DOM改动
    - CSS改动
## 既然页面的性能如此重要，你知道有哪些原因是影响页面性能的？
- HTTP请求
- 复杂的页面逻辑
- 重度的DOM操作
- 服务器响应
- 大量的数据
- ...
## 哪些方法可以加速页面性能？
- 资源压缩合并，减少HTTP请求数
- 异步加载
- CDN
- DNS预解析
- 缓存
- ...