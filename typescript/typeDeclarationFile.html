<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类型声明文件 | 花果山集训营</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.76d4d0b8.css" as="style"><link rel="preload" href="/assets/js/app.362d4f7c.js" as="script"><link rel="preload" href="/assets/js/2.ccf48b6a.js" as="script"><link rel="preload" href="/assets/js/1.87595a30.js" as="script"><link rel="preload" href="/assets/js/58.d7f6e15d.js" as="script"><link rel="prefetch" href="/assets/js/10.f3b75cb1.js"><link rel="prefetch" href="/assets/js/11.982c24c9.js"><link rel="prefetch" href="/assets/js/12.c204bb4e.js"><link rel="prefetch" href="/assets/js/13.1d9a44a6.js"><link rel="prefetch" href="/assets/js/14.42991e2a.js"><link rel="prefetch" href="/assets/js/15.c6f8ea5e.js"><link rel="prefetch" href="/assets/js/16.e37df2a1.js"><link rel="prefetch" href="/assets/js/17.1678b209.js"><link rel="prefetch" href="/assets/js/18.87da4873.js"><link rel="prefetch" href="/assets/js/19.0741f0b9.js"><link rel="prefetch" href="/assets/js/20.9f94b747.js"><link rel="prefetch" href="/assets/js/21.60375cff.js"><link rel="prefetch" href="/assets/js/22.816a248f.js"><link rel="prefetch" href="/assets/js/23.b3dde384.js"><link rel="prefetch" href="/assets/js/24.1f3752e0.js"><link rel="prefetch" href="/assets/js/25.397ad542.js"><link rel="prefetch" href="/assets/js/26.acf49457.js"><link rel="prefetch" href="/assets/js/27.9463e2e8.js"><link rel="prefetch" href="/assets/js/28.71551d5d.js"><link rel="prefetch" href="/assets/js/29.bb9ec8cd.js"><link rel="prefetch" href="/assets/js/3.e8eb28a6.js"><link rel="prefetch" href="/assets/js/30.e8e40c94.js"><link rel="prefetch" href="/assets/js/31.51477b59.js"><link rel="prefetch" href="/assets/js/32.33aa7a92.js"><link rel="prefetch" href="/assets/js/33.bed6ea25.js"><link rel="prefetch" href="/assets/js/34.cb98c584.js"><link rel="prefetch" href="/assets/js/35.09f3030a.js"><link rel="prefetch" href="/assets/js/36.a387d99e.js"><link rel="prefetch" href="/assets/js/37.2369929d.js"><link rel="prefetch" href="/assets/js/38.146b9a1a.js"><link rel="prefetch" href="/assets/js/39.6dc91985.js"><link rel="prefetch" href="/assets/js/4.b1e1d938.js"><link rel="prefetch" href="/assets/js/40.f7291a72.js"><link rel="prefetch" href="/assets/js/41.b6406cab.js"><link rel="prefetch" href="/assets/js/42.0922125e.js"><link rel="prefetch" href="/assets/js/43.37037934.js"><link rel="prefetch" href="/assets/js/44.8bb3b439.js"><link rel="prefetch" href="/assets/js/45.7179e0a5.js"><link rel="prefetch" href="/assets/js/46.7e03ba63.js"><link rel="prefetch" href="/assets/js/47.562ab159.js"><link rel="prefetch" href="/assets/js/48.af5f1bc2.js"><link rel="prefetch" href="/assets/js/49.65863f81.js"><link rel="prefetch" href="/assets/js/5.0f3a7393.js"><link rel="prefetch" href="/assets/js/50.d855f604.js"><link rel="prefetch" href="/assets/js/51.38d8fa53.js"><link rel="prefetch" href="/assets/js/52.7a5d2208.js"><link rel="prefetch" href="/assets/js/53.2d2ac828.js"><link rel="prefetch" href="/assets/js/54.9d3f0883.js"><link rel="prefetch" href="/assets/js/55.cd3a1496.js"><link rel="prefetch" href="/assets/js/56.0d3d07d2.js"><link rel="prefetch" href="/assets/js/57.e3eb6ad0.js"><link rel="prefetch" href="/assets/js/59.3b22e4e3.js"><link rel="prefetch" href="/assets/js/6.7ed6386f.js"><link rel="prefetch" href="/assets/js/60.5248343c.js"><link rel="prefetch" href="/assets/js/61.3bb4be95.js"><link rel="prefetch" href="/assets/js/62.1be8f5c5.js"><link rel="prefetch" href="/assets/js/7.94af19b6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.cf079a49.js">
    <link rel="stylesheet" href="/assets/css/0.styles.76d4d0b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpeg" alt="花果山集训营" class="logo"> <span class="site-name can-hide">花果山集训营</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow down"></span></button> <button type="button" aria-label="Javascript" class="mobile-dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ES6
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javascript/es6/interator/" class="nav-link">
  Interator
</a></li><li class="dropdown-subitem"><a href="/javascript/es6/generator/" class="nav-link">
  Generator
</a></li><li class="dropdown-subitem"><a href="/javascript/es6/async/" class="nav-link">
  Async
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/browser/" class="nav-link">
  浏览器原理及性能优化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vue2/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue3/" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><a href="/typescript/" class="nav-link router-link-active">
  TypeScript
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/前端工程化/webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/cicd/" class="nav-link">
  CI/CD
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow down"></span></button> <button type="button" aria-label="Javascript" class="mobile-dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ES6
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javascript/es6/interator/" class="nav-link">
  Interator
</a></li><li class="dropdown-subitem"><a href="/javascript/es6/generator/" class="nav-link">
  Generator
</a></li><li class="dropdown-subitem"><a href="/javascript/es6/async/" class="nav-link">
  Async
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/browser/" class="nav-link">
  浏览器原理及性能优化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vue2/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue3/" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><a href="/typescript/" class="nav-link router-link-active">
  TypeScript
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/前端工程化/webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/cicd/" class="nav-link">
  CI/CD
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/typescript/" aria-current="page" class="sidebar-link">TypeScript 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/#类型注解" class="sidebar-link">类型注解</a></li><li class="sidebar-sub-header"><a href="/typescript/#typescript-常用类型" class="sidebar-link">Typescript 常用类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#js-已有类型" class="sidebar-link">JS 已有类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#ts-新增类型" class="sidebar-link">TS 新增类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#类型推导" class="sidebar-link">类型推导</a></li><li class="sidebar-sub-header"><a href="/typescript/#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/typescript/#字面量类型" class="sidebar-link">字面量类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#枚举类型" class="sidebar-link">枚举类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#any-类型" class="sidebar-link">any 类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#typeof运算符" class="sidebar-link">typeof运算符</a></li></ul></li><li><a href="/typescript/tsAdvanced.html" class="sidebar-link">Typescript 进阶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#class-类" class="sidebar-link">class 类</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#实例属性初始化" class="sidebar-link">实例属性初始化</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#构造函数" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#实例方法" class="sidebar-link">实例方法</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#类的继承" class="sidebar-link">类的继承</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#implements-继承" class="sidebar-link">implements 继承</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#class-类的可见修饰符" class="sidebar-link">class 类的可见修饰符</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#ts-类型兼容性说明" class="sidebar-link">TS 类型兼容性说明</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#交叉类型" class="sidebar-link">交叉类型</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#交叉类型和接口之间的对比" class="sidebar-link">交叉类型和接口之间的对比</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型" class="sidebar-link">泛型</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#简化泛型函数的调用" class="sidebar-link">简化泛型函数的调用</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型约束" class="sidebar-link">泛型约束</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#多个泛型变量的情况" class="sidebar-link">多个泛型变量的情况</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型接口" class="sidebar-link">泛型接口</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#数组是泛型接口" class="sidebar-link">数组是泛型接口</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型类" class="sidebar-link">泛型类</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型工具类型-partial" class="sidebar-link">泛型工具类型 Partial</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型工具类型-readonly" class="sidebar-link">泛型工具类型 Readonly</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型工具类型-pick" class="sidebar-link">泛型工具类型 Pick</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型工具类型-record" class="sidebar-link">泛型工具类型 Record</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#索引签名类型" class="sidebar-link">索引签名类型</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#映射类型" class="sidebar-link">映射类型</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#映射类型-keyof" class="sidebar-link">映射类型 keyof</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#分析-partial-的内部实现" class="sidebar-link">分析 Partial 的内部实现</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#索引查询类型-基本使用" class="sidebar-link">索引查询类型(基本使用)</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#索引查询类型-同时查询多个" class="sidebar-link">索引查询类型(同时查询多个)</a></li></ul></li><li><a href="/typescript/typeDeclarationFile.html" aria-current="page" class="active sidebar-link">类型声明文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/typeDeclarationFile.html#ts-中的两种文件类型" class="sidebar-link">TS 中的两种文件类型</a></li><li class="sidebar-sub-header"><a href="/typescript/typeDeclarationFile.html#类型声明文件的使用说明" class="sidebar-link">类型声明文件的使用说明</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="类型声明文件"><a href="#类型声明文件" class="header-anchor">#</a> 类型声明文件</h1> <p>今天几乎所有的 javascript 运用都会引入许多第三方库来完成任务需求<br>
这些第三方库不管是否是 TS 编写的，最终都要编译成 JS 代码，才能发布给开发者使用<br>
我们知道是 TS 提供了类型，才有了代码提示和类型保护的机制<br>
但是在项目开发使用第三方库时，你会发现它们几乎都有相应的 TS 类型，这些类型是怎么来的呢？类型声明文件<br>
类型声明文件，用来为已存在的 JS 库提供类型信息<br>
这样在 TS 项目使用这些库时，就想用 TS 一样，都会有代码提示，类型保护等机制了</p> <h2 id="ts-中的两种文件类型"><a href="#ts-中的两种文件类型" class="header-anchor">#</a> TS 中的两种文件类型</h2> <p>TS 中有两种文件类型，.ts 文件 和 .d.ts 文件</p> <ul><li>.ts 文件：
<ol><li>即包含类型信息又可以执行代码</li> <li>可以被编译为.js 文件，然后执行代码</li> <li>用途，编写程序代码的地方</li></ol></li> <li>.d.ts 文件：
<ol><li>只包含类型信息的类型声明文件</li> <li>不会生成.js 文件，仅用于提供类型信息</li> <li>用途，为 JS 提供类型信息</li></ol></li></ul> <p>总结： .ts 是 implementation(代码实现文件);.d.ts 是 declaration(类型声明文件)</p> <p>如果要为 JS 库提供类型信息，要使用.d.ts 文件</p> <h2 id="类型声明文件的使用说明"><a href="#类型声明文件的使用说明" class="header-anchor">#</a> 类型声明文件的使用说明</h2> <p>在做 TS 项目开发时，类型声明文件的使用包含以下两种方式：</p> <ol><li>使用已有的类型声明文件</li></ol> <ul><li><p>内置类型声明文件</p> <div class="language- extra-class"><pre><code>TS为JS运行时可用的所有标准化内置API都提供了声明文件
比如，在使用数组时，数组所有方法都会有相应的代码提示以及类型信息
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">(</span>method<span class="token punctuation">)</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token function-variable function">callbackfn</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> array<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">,</span> thisArg<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
</code></pre></div><div class="language- extra-class"><pre><code>实际上这都是TS提供的内置类型声明文件
可以通过ctrl加鼠标左键(command+鼠标左键)来查看内置类型声明文件的内容
比如，查看forEach方法的类型声明，在vscode会自动跳转到lib.es5.d.ts类型声明文件中
当然像window、document等DOM、DOM API也都有相应的类型声明(lib.dom.d.ts)
</code></pre></div></li> <li><p>第三方库的类型声明文件</p> <p>第三方库的类型声明文件: 目前，几乎所有常用的第三方库都有相应的类型声明文件
第三方库的类型声明文件有两种存在形式: 1 库自带类型声明文件 2 由 DefinitelyTyped 提供</p> <ol><li>库自带类型声明文件，比如 axios</li></ol> <p><img src="/ts_typing.png" alt=""></p> <p>解释：这种情况下，正常导入该库，<strong>TS 就会自动加载库自己的类型声明文件</strong>，以提供库的类型声明</p> <p>@types/lodash @types/react @types/jquery</p></li></ul> <ol start="2"><li><p>创建自己的类型声明文件</p> <p>创建自己的类型声明文件： 1，项目内共享类型 2，为已有 JS 文件提供类型声明</p> <ul><li><p>项目内共享类型，如果多个.ts 文件都用到同一个类型，此时可以创建.d.ts 文件，来提供该类型的类型声明，实现类型共享</p> <p>操作步骤:</p> <ol><li>创建 index.d.ts 文件</li> <li>创建需要恭喜的类型，并使用 export 导出(TS 中的类型也可以使用 import/export 实现模块化功能)</li> <li>在需要使用共享类型的.ts 文件中，通过 import 导入即可(.d.ts 后缀导入时，直接省略)</li></ol></li> <li><p>为已有的项目提供类型声明：</p> <ol><li>在将 JS 项目迁移到 TS 项目时，为了让已有的.js 文件都有类型声明</li> <li>成为裤作者，创建库给其他人使用</li></ol> <p>说明，TS项目中也可以使用.js文件</p> <p>说明，在导入.js文件时，TS会自动加载与.js同名的.d.ts文件，以提供类型声明</p> <p>declare关键字，<strong>用于类型声明，为其他地方(比如.js文件)已经存在的变量类型，而不是创建一个新的变量</strong></p> <ol><li><p>对于type、interface等这些明确的TS类型的(只能在TS中使用)，可以省略declare关键字</p></li> <li><p>对于let，function等具有双重含义(TS和JS都能用)，应该使用declare关键字，明确指出此处用于类型声明</p></li></ol></li></ul></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/11/2024, 9:38:32 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/typescript/tsAdvanced.html" class="prev">
        Typescript 进阶
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.362d4f7c.js" defer></script><script src="/assets/js/2.ccf48b6a.js" defer></script><script src="/assets/js/1.87595a30.js" defer></script><script src="/assets/js/58.d7f6e15d.js" defer></script>
  </body>
</html>
