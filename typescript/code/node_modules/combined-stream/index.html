<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>combined-stream | 花果山集训营</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.76d4d0b8.css" as="style"><link rel="preload" href="/assets/js/app.32322cdd.js" as="script"><link rel="preload" href="/assets/js/2.ccf48b6a.js" as="script"><link rel="preload" href="/assets/js/1.87595a30.js" as="script"><link rel="preload" href="/assets/js/44.b7ddfea0.js" as="script"><link rel="prefetch" href="/assets/js/10.f3b75cb1.js"><link rel="prefetch" href="/assets/js/11.982c24c9.js"><link rel="prefetch" href="/assets/js/12.c204bb4e.js"><link rel="prefetch" href="/assets/js/13.1d9a44a6.js"><link rel="prefetch" href="/assets/js/14.42991e2a.js"><link rel="prefetch" href="/assets/js/15.c6f8ea5e.js"><link rel="prefetch" href="/assets/js/16.e37df2a1.js"><link rel="prefetch" href="/assets/js/17.1678b209.js"><link rel="prefetch" href="/assets/js/18.87da4873.js"><link rel="prefetch" href="/assets/js/19.0741f0b9.js"><link rel="prefetch" href="/assets/js/20.9f94b747.js"><link rel="prefetch" href="/assets/js/21.60375cff.js"><link rel="prefetch" href="/assets/js/22.4605d168.js"><link rel="prefetch" href="/assets/js/23.b3dde384.js"><link rel="prefetch" href="/assets/js/24.1f3752e0.js"><link rel="prefetch" href="/assets/js/25.abbdb79c.js"><link rel="prefetch" href="/assets/js/26.acf49457.js"><link rel="prefetch" href="/assets/js/27.9463e2e8.js"><link rel="prefetch" href="/assets/js/28.71551d5d.js"><link rel="prefetch" href="/assets/js/29.bb9ec8cd.js"><link rel="prefetch" href="/assets/js/3.e8eb28a6.js"><link rel="prefetch" href="/assets/js/30.e8e40c94.js"><link rel="prefetch" href="/assets/js/31.51477b59.js"><link rel="prefetch" href="/assets/js/32.33aa7a92.js"><link rel="prefetch" href="/assets/js/33.f0c3d5f6.js"><link rel="prefetch" href="/assets/js/34.db718ed9.js"><link rel="prefetch" href="/assets/js/35.0da48c5b.js"><link rel="prefetch" href="/assets/js/36.ac7b164f.js"><link rel="prefetch" href="/assets/js/37.cf64649e.js"><link rel="prefetch" href="/assets/js/38.671e1839.js"><link rel="prefetch" href="/assets/js/39.0d892c9f.js"><link rel="prefetch" href="/assets/js/4.b1e1d938.js"><link rel="prefetch" href="/assets/js/40.63f69423.js"><link rel="prefetch" href="/assets/js/41.d977321a.js"><link rel="prefetch" href="/assets/js/42.bbeacb90.js"><link rel="prefetch" href="/assets/js/43.d080611f.js"><link rel="prefetch" href="/assets/js/45.40766690.js"><link rel="prefetch" href="/assets/js/46.f3c650bc.js"><link rel="prefetch" href="/assets/js/47.fbaae36c.js"><link rel="prefetch" href="/assets/js/48.36549c0c.js"><link rel="prefetch" href="/assets/js/49.9f016686.js"><link rel="prefetch" href="/assets/js/5.0f3a7393.js"><link rel="prefetch" href="/assets/js/50.3158a219.js"><link rel="prefetch" href="/assets/js/51.59138a3d.js"><link rel="prefetch" href="/assets/js/52.c52f88f6.js"><link rel="prefetch" href="/assets/js/53.e281bf5f.js"><link rel="prefetch" href="/assets/js/54.32c6296e.js"><link rel="prefetch" href="/assets/js/55.d2d15ff8.js"><link rel="prefetch" href="/assets/js/56.6ea89172.js"><link rel="prefetch" href="/assets/js/57.7a084c89.js"><link rel="prefetch" href="/assets/js/58.21404650.js"><link rel="prefetch" href="/assets/js/6.7ed6386f.js"><link rel="prefetch" href="/assets/js/7.94af19b6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.cf079a49.js">
    <link rel="stylesheet" href="/assets/css/0.styles.76d4d0b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpeg" alt="花果山集训营" class="logo"> <span class="site-name can-hide">花果山集训营</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow down"></span></button> <button type="button" aria-label="Javascript" class="mobile-dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ES6
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javascript/es6/interator/" class="nav-link">
  Interator
</a></li><li class="dropdown-subitem"><a href="/javascript/es6/generator/" class="nav-link">
  Generator
</a></li><li class="dropdown-subitem"><a href="/javascript/es6/async/" class="nav-link">
  Async
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/browser/" class="nav-link">
  浏览器原理及性能优化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vue2/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue3/" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><a href="/typescript/" class="nav-link router-link-active">
  TypeScript
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/前端工程化/webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/cicd/" class="nav-link">
  CI/CD
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow down"></span></button> <button type="button" aria-label="Javascript" class="mobile-dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ES6
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javascript/es6/interator/" class="nav-link">
  Interator
</a></li><li class="dropdown-subitem"><a href="/javascript/es6/generator/" class="nav-link">
  Generator
</a></li><li class="dropdown-subitem"><a href="/javascript/es6/async/" class="nav-link">
  Async
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/browser/" class="nav-link">
  浏览器原理及性能优化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vue2/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue3/" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><a href="/typescript/" class="nav-link router-link-active">
  TypeScript
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/前端工程化/webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/cicd/" class="nav-link">
  CI/CD
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/typescript/" aria-current="page" class="sidebar-link">TypeScript 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/#类型注解" class="sidebar-link">类型注解</a></li><li class="sidebar-sub-header"><a href="/typescript/#typescript-常用类型" class="sidebar-link">Typescript 常用类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#js-已有类型" class="sidebar-link">JS 已有类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#ts-新增类型" class="sidebar-link">TS 新增类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#类型推导" class="sidebar-link">类型推导</a></li><li class="sidebar-sub-header"><a href="/typescript/#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/typescript/#字面量类型" class="sidebar-link">字面量类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#枚举类型" class="sidebar-link">枚举类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#any-类型" class="sidebar-link">any 类型</a></li><li class="sidebar-sub-header"><a href="/typescript/#typeof运算符" class="sidebar-link">typeof运算符</a></li></ul></li><li><a href="/typescript/tsAdvanced.html" class="sidebar-link">Typescript 进阶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#class-类" class="sidebar-link">class 类</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#实例属性初始化" class="sidebar-link">实例属性初始化</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#构造函数" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#实例方法" class="sidebar-link">实例方法</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#类的继承" class="sidebar-link">类的继承</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#implements-继承" class="sidebar-link">implements 继承</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#class-类的可见修饰符" class="sidebar-link">class 类的可见修饰符</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#ts-类型兼容性说明" class="sidebar-link">TS 类型兼容性说明</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#交叉类型" class="sidebar-link">交叉类型</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#交叉类型和接口之间的对比" class="sidebar-link">交叉类型和接口之间的对比</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型" class="sidebar-link">泛型</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#简化泛型函数的调用" class="sidebar-link">简化泛型函数的调用</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型约束" class="sidebar-link">泛型约束</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#多个泛型变量的情况" class="sidebar-link">多个泛型变量的情况</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型接口" class="sidebar-link">泛型接口</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#数组是泛型接口" class="sidebar-link">数组是泛型接口</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型类" class="sidebar-link">泛型类</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型工具类型-partial" class="sidebar-link">泛型工具类型 Partial</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型工具类型-readonly" class="sidebar-link">泛型工具类型 Readonly</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型工具类型-pick" class="sidebar-link">泛型工具类型 Pick</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#泛型工具类型-record" class="sidebar-link">泛型工具类型 Record</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#索引签名类型" class="sidebar-link">索引签名类型</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#映射类型" class="sidebar-link">映射类型</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#映射类型-keyof" class="sidebar-link">映射类型 keyof</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#分析-partial-的内部实现" class="sidebar-link">分析 Partial 的内部实现</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#索引查询类型-基本使用" class="sidebar-link">索引查询类型(基本使用)</a></li><li class="sidebar-sub-header"><a href="/typescript/tsAdvanced.html#索引查询类型-同时查询多个" class="sidebar-link">索引查询类型(同时查询多个)</a></li></ul></li><li><a href="/typescript/typeDeclarationFile.html" class="sidebar-link">类型声明文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/typeDeclarationFile.html#ts-中的两种文件类型" class="sidebar-link">TS 中的两种文件类型</a></li><li class="sidebar-sub-header"><a href="/typescript/typeDeclarationFile.html#类型声明文件的使用说明" class="sidebar-link">类型声明文件的使用说明</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="combined-stream"><a href="#combined-stream" class="header-anchor">#</a> combined-stream</h1> <p>A stream that emits multiple other streams one after another.</p> <p><strong>NB</strong> Currently <code>combined-stream</code> works with streams version 1 only. There is ongoing effort to switch this library to streams version 2. Any help is welcome. 😃 Meanwhile you can explore other libraries that provide streams2 support with more or less compatibility with <code>combined-stream</code>.</p> <ul><li><p><a href="https://www.npmjs.com/package/combined-stream2" target="_blank" rel="noopener noreferrer">combined-stream2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: A drop-in streams2-compatible replacement for the combined-stream module.</p></li> <li><p><a href="https://www.npmjs.com/package/multistream" target="_blank" rel="noopener noreferrer">multistream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: A stream that emits multiple other streams one after another.</p></li></ul> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> combined-stream
</code></pre></div><h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <p>Here is a simple example that shows how you can use combined-stream to combine
two files into one:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> CombinedStream <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'combined-stream'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> combinedStream <span class="token operator">=</span> CombinedStream<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
combinedStream<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'file1.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
combinedStream<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'file2.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

combinedStream<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">'combined.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>While the example above works great, it will pause all source streams until
they are needed. If you don't want that to happen, you can set <code>pauseStreams</code>
to <code>false</code>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> CombinedStream <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'combined-stream'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> combinedStream <span class="token operator">=</span> CombinedStream<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">pauseStreams</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
combinedStream<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'file1.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
combinedStream<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'file2.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

combinedStream<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">'combined.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>However, what if you don't have all the source streams yet, or you don't want
to allocate the resources (file descriptors, memory, etc.) for them right away?
Well, in that case you can simply provide a callback that supplies the stream
by calling a <code>next()</code> function:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> CombinedStream <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'combined-stream'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> combinedStream <span class="token operator">=</span> CombinedStream<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
combinedStream<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'file1.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
combinedStream<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'file2.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

combinedStream<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">'combined.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <h3 id="combinedstream-create-options"><a href="#combinedstream-create-options" class="header-anchor">#</a> CombinedStream.create([options])</h3> <p>Returns a new combined stream object. Available options are:</p> <ul><li><code>maxDataSize</code></li> <li><code>pauseStreams</code></li></ul> <p>The effect of those options is described below.</p> <h3 id="combinedstream-pausestreams-true"><a href="#combinedstream-pausestreams-true" class="header-anchor">#</a> combinedStream.pauseStreams = <code>true</code></h3> <p>Whether to apply back pressure to the underlaying streams. If set to <code>false</code>,
the underlaying streams will never be paused. If set to <code>true</code>, the
underlaying streams will be paused right after being appended, as well as when
<code>delayedStream.pipe()</code> wants to throttle.</p> <h3 id="combinedstream-maxdatasize-2-1024-1024"><a href="#combinedstream-maxdatasize-2-1024-1024" class="header-anchor">#</a> combinedStream.maxDataSize = <code>2 * 1024 * 1024</code></h3> <p>The maximum amount of bytes (or characters) to buffer for all source streams.
If this value is exceeded, <code>combinedStream</code> emits an <code>'error'</code> event.</p> <h3 id="combinedstream-datasize-0"><a href="#combinedstream-datasize-0" class="header-anchor">#</a> combinedStream.dataSize = <code>0</code></h3> <p>The amount of bytes (or characters) currently buffered by <code>combinedStream</code>.</p> <h3 id="combinedstream-append-stream"><a href="#combinedstream-append-stream" class="header-anchor">#</a> combinedStream.append(stream)</h3> <p>Appends the given <code>stream</code> to the combinedStream object. If <code>pauseStreams</code> is
set to `true, this stream will also be paused right away.</p> <p><code>streams</code> can also be a function that takes one parameter called <code>next</code>. <code>next</code>
is a function that must be invoked in order to provide the <code>next</code> stream, see
example above.</p> <p>Regardless of how the <code>stream</code> is appended, combined-stream always attaches an
<code>'error'</code> listener to it, so you don't have to do that manually.</p> <p>Special case: <code>stream</code> can also be a String or Buffer.</p> <h3 id="combinedstream-write-data"><a href="#combinedstream-write-data" class="header-anchor">#</a> combinedStream.write(data)</h3> <p>You should not call this, <code>combinedStream</code> takes care of piping the appended
streams into itself for you.</p> <h3 id="combinedstream-resume"><a href="#combinedstream-resume" class="header-anchor">#</a> combinedStream.resume()</h3> <p>Causes <code>combinedStream</code> to start drain the streams it manages. The function is
idempotent, and also emits a <code>'resume'</code> event each time which usually goes to
the stream that is currently being drained.</p> <h3 id="combinedstream-pause"><a href="#combinedstream-pause" class="header-anchor">#</a> combinedStream.pause();</h3> <p>If <code>combinedStream.pauseStreams</code> is set to <code>false</code>, this does nothing.
Otherwise a <code>'pause'</code> event is emitted, this goes to the stream that is
currently being drained, so you can use it to apply back pressure.</p> <h3 id="combinedstream-end"><a href="#combinedstream-end" class="header-anchor">#</a> combinedStream.end();</h3> <p>Sets <code>combinedStream.writable</code> to false, emits an <code>'end'</code> event, and removes
all streams from the queue.</p> <h3 id="combinedstream-destroy"><a href="#combinedstream-destroy" class="header-anchor">#</a> combinedStream.destroy();</h3> <p>Same as <code>combinedStream.end()</code>, except it emits a <code>'close'</code> event instead of
<code>'end'</code>.</p> <h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p>combined-stream is licensed under the MIT license.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.32322cdd.js" defer></script><script src="/assets/js/2.ccf48b6a.js" defer></script><script src="/assets/js/1.87595a30.js" defer></script><script src="/assets/js/44.b7ddfea0.js" defer></script>
  </body>
</html>
